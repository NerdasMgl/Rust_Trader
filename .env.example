# =============================================================================
# Rust_Trader 环境变量配置
# =============================================================================
# 复制此文件为 .env 并填写您的配置
# ⚠️ 重要：切勿将包含真实 API 密钥的 .env 文件提交到版本控制！
# ⚠️ 注意：以下所有 API 配置项均为【必需】，缺失任何一项都可能导致系统无法启动。
# =============================================================================

# =============================================================================
# 1. 基础设施 (必需)
# =============================================================================
RUST_LOG=info

# PostgreSQL 连接字符串
DATABASE_URL=postgresql://admin:secure_password@localhost:5432/rust_trader

# Qdrant 向量数据库地址 (默认使用本地 Docker)
QDRANT_URL=http://localhost:6334

# =============================================================================
# 2. AI 模型 (必需)
# =============================================================================
# -----------------------------------------------------------------------------
# DeepSeek (推理大脑) - https://platform.deepseek.com
# 用于市场分析、交易决策、盈亏比计算
# -----------------------------------------------------------------------------
DEEPSEEK_API_KEY=sk-your-deepseek-api-key
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# -----------------------------------------------------------------------------
# 火山引擎 (向量嵌入) - https://console.volcengine.com
# 用于 RAG 记忆系统，将文本转换为向量存入 Qdrant
# -----------------------------------------------------------------------------
VOLC_API_KEY=your-volcengine-api-key
VOLC_ENDPOINT=https://ark.cn-beijing.volces.com/api/v3
VOLC_MODEL=ep-your-embedding-model-id

# -----------------------------------------------------------------------------
# 豆包 (推理模型) - https://console.volcengine.com
# 备用推理模型
# -----------------------------------------------------------------------------
DOUBAO_MODEL_ID=doubao-seed-1-6-250615

# -----------------------------------------------------------------------------
# 阿里云 Dashscope (兼容接口) - https://dashscope.console.aliyun.com
# 阿里系模型兼容接口
# -----------------------------------------------------------------------------
DASHSCOPE_API_KEY=your-dashscope-api-key
DASHSCOPE_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# =============================================================================
# 3. 交易所 API (必需)
# =============================================================================
# -----------------------------------------------------------------------------
# OKX 交易所 - https://www.okx.com
# ⚠️ 建议：为交易创建独立的 API 密钥，限制 IP 白名单，仅开通交易权限
# -----------------------------------------------------------------------------
OKX_API_KEY=your-okx-api-key
OKX_SECRET_KEY=your-okx-secret-key
OKX_PASSPHRASE=your-okx-passphrase

# OKX 高级配置
OKX_BASE_URL=https://www.okx.com
OKX_WS_URL=wss://wspap.okx.com:8443/ws/v5/public
OKX_SIMULATED=0  # 1 = 模拟盘, 0 = 实盘

# =============================================================================
# 4. 数据感知 (必需)
# =============================================================================
# -----------------------------------------------------------------------------
# Reddit 情绪分析 - https://www.reddit.com/prefs/apps
# 用于获取 Reddit 社区情绪数据
# -----------------------------------------------------------------------------
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret

# =============================================================================
# 5. 通知系统 (必需)
# =============================================================================
# -----------------------------------------------------------------------------
# 钉钉机器人 - https://oa.dingtalk.com/dingtalk/admin/robot/robot-list
# 用于接收开仓通知、每日报告、风险警报
# -----------------------------------------------------------------------------
DINGTALK_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=your-token
DINGTALK_KEYWORD=Trading  # 机器人安全设置的关键词

# =============================================================================
# 6. 风控参数 (必需)
# =============================================================================
# 最大回撤限制 (0.10 = 10%)
# 当总亏损超过此比例时，系统将自动停机
MAX_DRAWDOWN_LIMIT=0.10

# =============================================================================
# 7. 策略配置 (必需)
# =============================================================================
STRATEGY_VERSION=v_normal_1.0  # 策略版本标识，用于日志追踪

# =============================================================================
# 8. 开发调试 (必需)
# =============================================================================
# 干跑模式，1 = 不执行真实交易，仅打印订单信息
DRY_RUN=0

# =============================================================================
# 9. 代理配置 (可选)
# =============================================================================
# 如果您所在的网络无法直接访问外部 API，请配置代理
# HTTPS_PROXY=http://127.0.0.1:7890
# SOCKS5_PROXY=socks5://127.0.0.1:7891
