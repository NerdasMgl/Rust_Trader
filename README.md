# ğŸ§  AegisTrader-RS

<div align="center">

**An AI-native, self-evolving quantitative trading system built with Rust**

[![Rust](https://img.shields.io/badge/Rust-1.76+-dea584.svg?logo=rust)](https://www.rust-lang.org)
[![Tokio](https://img.shields.io/badge/Tokio-1.36-blue.svg)](https://tokio.rs)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

**Perception â†’ Brain â†’ Action â†’ Evolution**é—­ç¯é©±åŠ¨çš„æ™ºèƒ½äº¤æ˜“æœºå™¨äºº

[English](README.md) | [ä¸­æ–‡](README_CN.md)

</div>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§¬ è‡ªæˆ‘è¿›åŒ–æ¶æ„

AegisTrader-RS é‡‡ç”¨ç‹¬ç‰¹çš„ **é—­ç¯è¿›åŒ–ç³»ç»Ÿ**ï¼Œè®©äº¤æ˜“ç­–ç•¥èƒ½å¤Ÿä»å¤±è´¥ä¸­å­¦ä¹ ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Evolution Loop (è¿›åŒ–å›è·¯)                      â”‚
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  Autopsy â”‚â”€â”€â”€â–¶â”‚  Vector  â”‚â”€â”€â”€â–¶â”‚   Brain  â”‚â”€â”€â”€â–¶â”‚  Action  â”‚ â”‚
â”‚   â”‚ (å¤ç›˜)   â”‚    â”‚   DB     â”‚    â”‚ (å†³ç­–)   â”‚    â”‚ (æ‰§è¡Œ)   â”‚ â”‚
â”‚   â”‚          â”‚    â”‚ (è®°å¿†)   â”‚    â”‚          â”‚    â”‚          â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â”‚               â”‚               â”‚               â”‚        â”‚
â”‚        â–¼               â–¼               â–¼               â–¼        â”‚
â”‚   äºæŸäº¤æ˜“åˆ†æ    ç»éªŒæ•™è®­å­˜å‚¨    æ£€ç´¢å†å²è®°å¿†    æ™ºèƒ½ä¸‹å•æ‰§è¡Œ    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚
â”‚                         å¸‚åœºåé¦ˆ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| æ¨¡å— | åŠŸèƒ½ | æŠ€æœ¯å®ç° |
|------|------|----------|
| **Perception** | å¤šæºæ•°æ®æ„ŸçŸ¥ï¼šOKX è¡Œæƒ…ã€å…¨çƒæ–°é—»ã€Reddit æƒ…ç»ª | WebSocket + REST API |
| **Brain** | AI å†³ç­–åˆ†æï¼šå¸‚åœºçŠ¶æ€åˆ¤æ–­ + RAG è®°å¿†æ£€ç´¢ | DeepSeek LLM + Qdrant å‘é‡åº“ |
| **Action** | äº¤æ˜“æ‰€æ‰§è¡Œï¼šè®¢å•ç®¡ç†ã€ä»“ä½è®¡ç®—ã€é£é™©æ§åˆ¶ | OKX API + å‡¯åˆ©å…¬å¼ |
| **Evolution** | è‡ªæˆ‘è¿›åŒ–ï¼šäºæŸå¤ç›˜ã€æœºä¼šæ‰«æã€PNL ç›‘æ§ | PostgreSQL + Autopsy ç³»ç»Ÿ |

### ğŸš€ æ ¸å¿ƒèƒ½åŠ›

- **ğŸ§  RAG è®°å¿†ç³»ç»Ÿ**ï¼šåŸºäºå‘é‡æ•°æ®åº“çš„é•¿æœŸè®°å¿†ï¼Œè·¨è¶Šæ—¶é—´é™åˆ¶æ£€ç´¢å†å²ç»éªŒ
- **ğŸ” Autopsy äº¤æ˜“å¤ç›˜**ï¼šè‡ªåŠ¨åŒ–äºæŸåˆ†æï¼Œå°†æ•™è®­è½¬åŒ–ä¸ºå¯æ£€ç´¢çš„è®°å¿†
- **ğŸ“Š å‡¯åˆ©å…¬å¼åŠ¨æ€ä»“ä½**ï¼šæ•°å­¦ä¼˜åŒ–çš„é£é™©èµ„é‡‘ç®¡ç†
- **ğŸ“° å¤šæºå¸‚åœºæ„ŸçŸ¥**ï¼šè¡Œæƒ…ã€æ–°é—»ã€ç¤¾äº¤åª’ä½“æƒ…ç»ªå®æ—¶èåˆ
- **ğŸ›¡ï¸ å¤šå±‚é£é™©æ§åˆ¶**ï¼šæœ€å¤§å›æ’¤é™åˆ¶ã€å•ç¬”é£é™©æ•å£ã€ATR åŠ¨æ€å¿ƒè·³
- **ğŸ”” å®æ—¶ç›‘æ§é€šçŸ¥**ï¼šé’‰é’‰æœºå™¨äººæ¨é€å¼€ä»“/æ—¥ç»“æŠ¥å‘Š

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| **Runtime** | Tokio 1.36 (å…¨å¼‚æ­¥è¿è¡Œæ—¶) |
| **Network** | reqwest + tokio-tungstenite |
| **Database** | PostgreSQL (sqlx) + Qdrant (å‘é‡æ•°æ®åº“) |
| **AI** | DeepSeek API + Volcengine Embedding |
| **Config** | config-rs + dotenvy |
| **Tracing** | tracing + tracing-subscriber |

---

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- Rust 1.76+
- PostgreSQL 14+
- Docker (Qdrant å‘é‡æ•°æ®åº“)
- DeepSeek API Key

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/aegis-trader-rs.git
cd aegis-trader-rs
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥æ‚¨çš„ API Keys
```

### 3. å¯åŠ¨ä¾èµ–æœåŠ¡

```bash
# PostgreSQL + Qdrant
docker-compose up -d

# æˆ–è€…åˆ†åˆ«å¯åŠ¨
docker run -d --name qdrant -p 6334:6333 qdrant/qdrant
```

### 4. è¿è¡Œç³»ç»Ÿ

```bash
cargo run --release
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### æ ¸å¿ƒé…ç½® (`risk_config.toml`)

```toml
[thresholds]
autopsy_roe_pct = -0.02   # äºæŸ 2% è§¦å‘å¤ç›˜
scanner_pump_pct = 0.05   # æ¶¨å¹… 5% æ‰«ææœºä¼š

[timing]
cycle_rest_sec = 300      # ä¸»å¾ªç¯é—´éš” (ç§’)
evolution_sec = 3600      # è¿›åŒ–å‘¨æœŸ (ç§’)
```

### ç¯å¢ƒå˜é‡ (`.env`)

| å˜é‡ | å¿…å¡« | è¯´æ˜ |
|------|------|------|
| `DATABASE_URL` | âœ… | PostgreSQL è¿æ¥å­—ç¬¦ä¸² |
| `QDRANT_URL` | âœ… | Qdrant æœåŠ¡åœ°å€ |
| `DEEPSEEK_API_KEY` | âœ… | DeepSeek API Key |
| `OKX_API_KEY` | âœ… | OKX äº¤æ˜“æ‰€ API Key |
| `OKX_API_SECRET` | âœ… | OKX äº¤æ˜“æ‰€ Secret |
| `OKX_PASSPHRASE` | âœ… | OKX äº¤æ˜“æ‰€ Passphrase |

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
src/
â”œâ”€â”€ main.rs                    # ç³»ç»Ÿæ€»çº¿ï¼Œè¿è¡Œå¾ªç¯
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ mod.rs                # é…ç½®åŠ è½½å™¨
â”‚   â””â”€â”€ risk_profile.rs       # é£é™©å‚æ•°å®šä¹‰
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ perception/           # æ•°æ®æ„ŸçŸ¥å±‚
â”‚   â”‚   â”œâ”€â”€ fetcher.rs       # æ•°æ®æŠ“å–æ€»çº¿
â”‚   â”‚   â”œâ”€â”€ ws_client.rs     # WebSocket å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ news.rs          # æ–°é—»èšåˆ
â”‚   â”‚   â”œâ”€â”€ reddit.rs        # Reddit æƒ…ç»ª
â”‚   â”‚   â””â”€â”€ structs.rs       # æ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ brain/                # AI å†³ç­–å±‚
â”‚   â”‚   â”œâ”€â”€ llm.rs           # LLM æ¥å£å°è£…
â”‚   â”‚   â””â”€â”€ rag.rs           # RAG è®°å¿†æ£€ç´¢
â”‚   â”œâ”€â”€ action/               # æ‰§è¡Œå±‚
â”‚   â”‚   â”œâ”€â”€ executor.rs      # è®¢å•æ‰§è¡Œå™¨
â”‚   â”‚   â””â”€â”€ snapshot.rs      # äº¤æ˜“å¿«ç…§
â”‚   â””â”€â”€ evolution/            # è¿›åŒ–å±‚
â”‚       â”œâ”€â”€ autopsy.rs        # äºæŸå¤ç›˜
â”‚       â”œâ”€â”€ scanner.rs        # æœºä¼šæ‰«æ
â”‚       â””â”€â”€ pnl_monitor.rs    # ç›ˆäºç›‘æ§
â”œâ”€â”€ database/
â”‚   â””â”€â”€ mod.rs               # æ•°æ®åº“æ“ä½œ
â””â”€â”€ utils/
    â”œâ”€â”€ notifier.rs          # é€šçŸ¥æœåŠ¡
    â””â”€â”€ http_client.rs       # HTTP å®¢æˆ·ç«¯
```

---

## ğŸ”’ å®‰å…¨å£°æ˜

> **âš ï¸ é£é™©æç¤º**: åŠ å¯†è´§å¸äº¤æ˜“å­˜åœ¨é‡å¤§é£é™©ã€‚AegisTrader-RS ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚
>
> - å»ºè®®å…ˆåœ¨ **æ¨¡æ‹Ÿç›˜** æµ‹è¯•ç­–ç•¥
> - è®¾ç½®åˆç†çš„ **æœ€å¤§å›æ’¤é™åˆ¶**
> - å®šæœŸæ£€æŸ¥å’Œ **è°ƒæ•´é£é™©å‚æ•°**
> - åˆ‡å‹¿æŠ•å…¥è¶…è¿‡æ‰¿å—èƒ½åŠ›çš„èµ„é‡‘

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯å¼€æºï¼Œè¯¦è§ [LICENSE](LICENSE)ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

